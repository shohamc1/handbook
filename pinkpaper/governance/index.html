<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Governance - DeFiChain Handbook</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../../index.html">Landing</a></li><li class="chapter-item "><div>Introduction</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../prelude.html">Prelude</a></li><li class="chapter-item "><div>Getting Started</div></li></ol></li><li class="chapter-item expanded "><a href="../../concepts.html">Concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../proto.html">Protocol and Network</a></li><li class="chapter-item expanded "><a href="../../pinkpaper/index.html">Pink Paper</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../pinkpaper/emission/index.html">Emission</a></li><li class="chapter-item "><a href="../../pinkpaper/fees/index.html">Fees</a></li><li class="chapter-item "><a href="../../pinkpaper/futures/index.html">Futures</a></li><li class="chapter-item expanded "><a href="../../pinkpaper/governance/index.html" class="active">Governance</a></li><li class="chapter-item "><a href="../../pinkpaper/interchain-exchange/index.html">Interchain Exchange</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../pinkpaper/interchain-exchange/fees.html">Fees</a></li></ol></li><li class="chapter-item "><a href="../../pinkpaper/loan/index.html">Loan</a></li><li class="chapter-item "><a href="../../pinkpaper/operator/index.html">Operator</a></li><li class="chapter-item "><a href="../../pinkpaper/price-oracle/index.html">Price Oracle</a></li></ol></li></ol></li><li class="chapter-item "><div>DFIPS</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../dfips/2203.html">DFIP 2203</a></li></ol></li><li class="chapter-item "><a href="../../guides.html">Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../defid.html">Using defid - The Reference Node</a></li><li class="chapter-item "><a href="../../node/wallet.html">Using a Wallet</a></li></ol></li><li class="chapter-item "><a href="../../concepts.html">References</a></li><li class="chapter-item "><div>Ecosystem</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div>Wallets</div></li></ol></li><li class="chapter-item "><div>Resources</div></li><li class="chapter-item "><div>Drafts</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../drafts/releases.html">Releases</a></li><li class="chapter-item "><div>Code Conventions</div></li><li class="chapter-item "><div>Git Conventions</div></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">DeFiChain Handbook</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/DeFiCh/handbook/tree/main/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/DeFiCh/handbook/edit/main/src/pinkpaper/governance/README.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="on-chain-governance"><a class="header" href="#on-chain-governance">On-chain Governance</a></h1>
<h2 id="governance-summary"><a class="header" href="#governance-summary">Governance summary</a></h2>
<p>Voting is carried out every 130,000 blocks, roughly once every calendar month.</p>
<p>Types of governance:</p>
<ol>
<li>
<p>Community development fund request proposal</p>
<ul>
<li>Requesting of community development fund.</li>
<li>Requires simple majority (&gt; 50%) by non-neutral voting masternodes to pass.</li>
<li>Fee: 10 DFI per proposal</li>
</ul>
</li>
<li>
<p>Block reward reallocation proposal</p>
<ul>
<li>Note the miner's reward (PoS) are guaranteed and cannot be reallocated.</li>
<li>Requires super majority (&gt; 66.67%) by non-neutral voting masternodes to pass.</li>
<li>Fee: 500 DFI per proposal</li>
</ul>
</li>
<li>
<p>Vote of confidence</p>
<ul>
<li>General directional vote, not consensus enforceable.</li>
<li>Requires super majority (&gt; 66.67%) by non-neutral voting masternodes to pass.</li>
<li>Fee: 50 DFI per proposal</li>
</ul>
</li>
</ol>
<p>All fees are trackably burned.</p>
<h2 id="community-fund-request-proposal-cfp"><a class="header" href="#community-fund-request-proposal-cfp">Community fund request proposal (CFP)</a></h2>
<h3 id="current"><a class="header" href="#current">Current</a></h3>
<p>Currently every block creates 19.9 DFI to community fund address that is controlled by Foundation.</p>
<h3 id="improvements"><a class="header" href="#improvements">Improvements</a></h3>
<p>The amount at <code>dZcHjYhKtEM88TtZLjp314H2xZjkztXtRc</code> will be moved to a community balance, we call this the &quot;Community Development Fund&quot;.</p>
<p>This fund, will be similar to Incentive Funding and Anchor Reward, they have no private keys and are unrealized by default unless allocated.</p>
<p>Voting is carried our every 90,000 blocks (roughly once every calendar month). This should be configurable as chainparams and requires a hardfork to update. The block where the vote is finalized is also known as &quot;Voting Finalizing Block&quot;.</p>
<p>User is able to submit a fund request that is to be voted by masternodes. Each fund request costs non-refundable 10 DFI. The 10 DFI is not burned, but being added to the proposal for that will be paid out to all voting masternodes to encourage participation. Each fund request can be also specify <code>cycle</code>. Cycle is defaulted to <code>1</code> for one-off fund request, this also allows for periodic fund requests where a request is for a fixed amount to be paid out every cycle (every 90,000 blocks) for the specified cycles if the funding request remains APPROVED state.</p>
<h3 id="data-structure-of-a-funding-request"><a class="header" href="#data-structure-of-a-funding-request">Data structure of a funding request</a></h3>
<h4 id="user-submitted-data"><a class="header" href="#user-submitted-data">User submitted data</a></h4>
<ol>
<li>Title (required, this may also be implemented as hash of title to conserve on-chain storage)</li>
<li>Payout address (required) this can be different from requester's address</li>
<li>Finalize after block (optional, default=curr block + (blocks per cycle / 2))
<ul>
<li>Max valid value would be curr block + 3 * blocks per cycle. No minimum.</li>
<li>The rationale for this value is to allow sufficient time for requests to be discussed and voted on, esp. when it is submitted closer to the end of current voting cycle.</li>
</ul>
</li>
<li>Amount per period (in DFI)</li>
<li>Period requested (required, integer, default=1)</li>
</ol>
<h4 id="internal-data"><a class="header" href="#internal-data">Internal data</a></h4>
<ol>
<li>Completed payment periods (integer)</li>
<li>State</li>
<li>Voting data</li>
</ol>
<h4 id="states-of-funding-request"><a class="header" href="#states-of-funding-request">States of funding request</a></h4>
<p>Funding requests can have one of the following states</p>
<ol>
<li><code>VOTING</code>: Successfully submitted request, currently undergoing voting state</li>
<li><code>REJECTED</code>: At voting finalizing block, if a request does not achieve. This is a FINAL state and cannot be re-opened.</li>
<li><code>COMPLETED</code>: A funding request that has been paid out entirely. When completed payment periods is equals to period requested, request is marked as <code>COMPLETED</code>. . This is a FINAL state and cannot be re-opened.</li>
</ol>
<p>The absence of the state <code>APPROVED</code> is intended. An approved request will simply have its payout made and increment the completed payment period. If payment has been completed fully, request state will be changed to <code>COMPLETED</code>, which is a final state. A corollary to this allows for a request that requested for a payout of 1000 DFI every month and has received for 2 months to be rejected at the 3rd month if there are more no votes to yes votes.</p>
<h3 id="rpc"><a class="header" href="#rpc">RPC</a></h3>
<ol>
<li>
<p><code>creategovcfr '{DATA}'</code></p>
<ul>
<li><code>DATA</code> is serialized JSON with the following:
<ul>
<li><code>title</code></li>
<li><code>finalizeAfter</code>: Defaulted to current block height + 90000/2. All eligible proposals have to be submitted at least 90k blocks before the finalizing block and not more than 270k blocks before.</li>
<li><code>cycles</code>: Defaulted to <code>1</code> if unspecified.</li>
<li><code>amount</code>: in DFI.</li>
<li><code>payoutAddress</code>: DFI address</li>
</ul>
</li>
<li>10 DFI is paid along with the submission.</li>
<li>Request is finalized after submission, no edits are possible thereafter.</li>
<li>Returns <code>txid</code>. The <code>txid</code> is also used as the proposal ID.</li>
</ul>
</li>
<li>
<p><code>vote PROPOSALID DECISION</code></p>
<ul>
<li><code>PROPOSALID</code> is the <code>txid</code> of the submitted funding request.</li>
<li><code>DECISION</code> can be either of the following:
<ul>
<li><code>yes</code></li>
<li><code>no</code></li>
<li><code>neutral</code></li>
</ul>
</li>
<li>A masternode is able to change the vote decisions before the request is finalized, the last vote as seen on the block BEFORE finalizing block is counted.</li>
</ul>
</li>
</ol>
<h2 id="votes"><a class="header" href="#votes">Votes</a></h2>
<p>A masternode is deemed to be eligible to cast a vote if ALL the following conditions are satisfied:</p>
<ol>
<li>The masternode is in <code>ENABLED</code> state during vote submission AND at vote finalizing block.</li>
<li>The masternode has successfully minted at least 1 block during vote submission AND at vote finalizing block.</li>
</ol>
<p>Any eligible masternodes can cast a vote to any proposal that is in <code>VOTING</code> state, regardless of completed payment period.</p>
<p>Masternodes are able to cast any of the following votes:</p>
<ol>
<li>YES</li>
<li>NO</li>
<li>NEUTRAL</li>
</ol>
<p>At every vote finalizing block, a community fund proposal (CFP) is deemed to be eligible to be paid out of all the followings are true:</p>
<ol>
<li>There are more YES votes than NO votes. Simple majority wins. NEUTRAL votes are not counted. If there are equal amount of YES and NO votes, the CFR is deemed to have failed and rejected.</li>
<li>The voting masternodes eligibility must be <code>ENABLED</code> at the finalizing block and have mined at least 1 block.</li>
<li>Quorum: All proposals require at least 1% of voting masternodes of all active masternodes that mined at least 1 block before the finalizing block.</li>
</ol>
<h2 id="other-proposals"><a class="header" href="#other-proposals">Other proposals</a></h2>
<p>Other proposals such as block reallocation proposal and vote of confidence will follow the same voting cycle.</p>
<h2 id="supplementary-website"><a class="header" href="#supplementary-website">Supplementary website</a></h2>
<p>While blockchain's as data storage is desired to maintain impartiality and anonymity of discussions, it is not a conducive medium for a wider discussion. A supplementary website will be made available to facilitate all proposal discussions and track the progress.</p>
<p>A good supplementary website is suggested to carry the following features:</p>
<ol>
<li><strong>Proposer identification</strong> to facilitate meaningful discussion among the community and the proposer. This does not, however, imply the need of a user account system.</li>
<li><strong>Proposal extension and title hash validation</strong>. As the blockchain only contains the hash of title, the supplementary website must allow the proposer to enter the full proposal title hash and enter any additional descriptions on the proposals.</li>
<li><strong>Vote tracking</strong>. Ability to track votes as it happens.</li>
</ol>
<p>An example good supplementary website would be https://www.dashcentral.org/budget for Dash.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../pinkpaper/futures/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../pinkpaper/interchain-exchange/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../pinkpaper/futures/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../pinkpaper/interchain-exchange/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
